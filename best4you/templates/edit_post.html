{% extends "base.html" %}
{% block title %}Edit Post{% endblock %}

{% block content %}
<div class="editor-wrap">
  <h2>Edit Post</h2>
  <p class="editor-sub">Update your post content below.</p>

  <div class="editor-box">
    <form method="POST" action="{{ url_for('posts.edit_post', post_id=post.id) }}" novalidate>
      <div class="form-group">
        <label for="title">Post Title *</label>
        <input type="text" id="title" name="title"
               value="{{ request.form.title or post.title }}" required/>
      </div>
      <div class="form-row-2">
        <div class="form-group">
          <label for="category">Category *</label>
          <select id="category" name="category" required>
            {% for key, label in categories.items() %}
              <option value="{{ key }}"
                {% if (request.form.category or post.category) == key %}selected{% endif %}>
                {{ label }}
              </option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label for="tags">Tags <span class="label-optional">(optional)</span></label>
          <input type="text" id="tags" name="tags"
                 value="{{ request.form.tags or post.tags }}"/>
        </div>
      </div>
      <div class="form-group">
        <label for="content">Content *</label>
        <textarea id="content" name="content" rows="12">{{ request.form.content or post.content }}</textarea>
      </div>
      <div class="editor-actions">
        <a href="{{ url_for('posts.view_post', post_id=post.id) }}" class="btn btn-outline">Cancel</a>
        <button type="submit" class="btn btn-green">Save Changes â†’</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
